{"version":3,"sources":["Components/VideoChat/main.module.css","Components/SideDrawer/main.module.css","Components/Home/main.module.css","Components/Loader/main.module.css","Components/Editor/main.module.css","Components/SideDrawer/SideDrawer.js","Components/VideoChat/videoChatComponent.js","Containers/VideoHelper.js","Containers/VideoChat.js","Components/Editor/EditorComponent.js","EditorBinding/StringBinding.js","EditorBinding/TextDiffBinding.js","Components/Loader/Loading.js","Containers/Editor.js","Components/Home/HomeComponent.js","Containers/Home.js","App.js","serviceWorker.js","index.js"],"names":["module","exports","Option","Select","TextArea","Input","SideDrawer","props","input","output","videoChat","lang","handleLang","handleRun","handleInput","handleVideoChat","runCodeDisabled","textAreaSize","minRows","maxRows","inviteContent","value","window","location","href","readOnly","className","styles","sideDrawer","topRow","span","onClick","content","trigger","placement","defaultValue","onChange","rows","autoSize","style","marginBottom","disabled","VideoChatComponent","draggableRef","remoteRef","localRef","peerConnected","controls","gotMediaDevice","toggleVideo","toggleAudio","createOffer","connecting","Fragment","nodeRef","outer","ref","remote","remoteVideo","autoPlay","muted","overlay","local","localVideo","video","src","alt","audio","connect","helper","candidates","pc","videoSocket","peerConnectionInit","RTCPeerConnection","iceServers","urls","username","credential","onicecandidate","onIceCandidate","oniceconnectionstatechange","onIceConnectionStateChange","e","console","log","target","iceGatheringState","candidate","push","send","JSON","stringify","addIceCandidate","RTCIceCandidate","iceConnectionState","restartIce","offerToReceiveAudio","offerToReceiveVideo","then","sdp","setLocalDescription","RTCSessionDescription","makeOffer","offer","catch","error","err","handleLocalMediaStreamError","notification","message","toString","description","websocketURL","process","REACT_APP_WEB_SOCKET_URL","VideoChat","addTrack","event","current","srcObject","streams","setState","VideoHelper","createAnswer","localMediaStream","state","makeAnswer","answer","getVideoTracks","enabled","getAudioTracks","React","createRef","ReconnectingWebSocket","addEventListener","ontrack","this","navigator","mediaDevices","getUserMedia","mediaStream","getTracks","forEach","track","on","parse","data","setRemoteDescription","length","map","stop","close","Component","EditorComponent","code","editorDidMount","editorOnChange","handleVideoSocket","options","selectOnLineNumbers","minimap","gutter","lg","sm","editor","automaticLayout","language","theme","StringBinding","setup","update","compoThis","docData","doc","updateInputOutput","attachDoc","attachElement","_inputListener","newValue","onInput","_inoutListener","before","after","key","_insertInOut","onListener","op","source","Error","component","p","ld","li","isSubpath","path","_parseInsertRemoveOp","_parseParentOp","submitOp","testPath","i","onHandler","rangeOffset","localPresence","previous","start","end","charAt","removed","slice","_remove","changes","inserted","_insert","index","text","concat","si","sd","onInsert","_transformSelectionAndUpdate","insertCursorTransform","currStartOffset","currEndOffset","startOffset","endOffset","onRemove","removeCursorTransform","transformCursor","selection","getSelection","offset","getModel","getOffsetAt","lineNumber","startLineNumber","column","startColumn","endLineNumber","endColumn","setSelection","monaco","Range","getPositionAt","isSetup","range","isPos","decorations","deltaDecorations","Loading","loader","serverURL","REACT_APP_SERVER_URL","Editor","focus","pushEOL","onDidChangeCursorSelection","pos","getPosition","binding","submit","getValue","axios","post","id","match","params","getLanguageIdentifier","response","status","isLoading","res","rws","connection","shareDB","Connection","get","subscribe","presence","getPresence","create","HomeComponent","createId","home","heading","to","btn","githubcorner","aria-label","width","height","viewBox","aria-hidden","d","fill","class","Home","v4","App","exact","Boolean","hostname","ReactDOM","render","StrictMode","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.b99f9fbd.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"outer\":\"main_outer__gFZ3W\",\"remote\":\"main_remote__1uyar\",\"local\":\"main_local__1IqXB\",\"remoteVideo\":\"main_remoteVideo__3ez5V\",\"localVideo\":\"main_localVideo__1-42y\",\"connect\":\"main_connect__3uDUm\",\"controls\":\"main_controls__1otVK\",\"overlay\":\"main_overlay__oOuL4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sideDrawer\":\"main_sideDrawer__2aXW7\",\"lang\":\"main_lang__2bB5a\",\"input\":\"main_input__27CXw\",\"output\":\"main_output__6UY0Z\",\"topRow\":\"main_topRow__1w1Mt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"main_home__30EvA\",\"heading\":\"main_heading__2nLhT\",\"description\":\"main_description__3Zuz1\",\"btn\":\"main_btn__2OCid\",\"desc\":\"main_desc__1fHil\",\"githubcorner\":\"main_githubcorner__2GQW1\",\"octo-arm\":\"main_octo-arm__He8b2\",\"octocat-wave\":\"main_octocat-wave__3URva\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"main_loader__1AApJ\",\"loader-content\":\"main_loader-content__Hf9zL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"editor\":\"main_editor__2uldc\"};","import React from 'react';\nimport styles from './main.module.css';\nimport { Select, Input, Row, Col, Popover } from 'antd';\nconst { Option } = Select;\nconst { TextArea } = Input;\n\nconst SideDrawer = props => {\n    const {\n        input,\n        output,\n        videoChat,\n        lang,\n        handleLang,\n        handleRun,\n        handleInput,\n        handleVideoChat,\n        runCodeDisabled\n    } = props;\n    const textAreaSize = { minRows: 3, maxRows: 6 };\n    const inviteContent = (\n        <div>\n            <h3>Invite a peer!</h3>\n            <p>Start pair programming with your peer by sharing this editor.</p>\n            <h3>Invite via link:</h3>\n            <Input value={window.location.href} readOnly={true} />\n        </div>\n    )\n    return (\n        <div className={styles.sideDrawer}>\n            <Row className={styles.topRow}>\n                <Col span={12}>\n                    <button\n                        className={videoChat ? \"btn_danger\" : \"btn_primary\"}\n                        onClick={handleVideoChat}\n                    >\n                        {videoChat ? \"End Call\" : \"Video Call\"}\n                    </button>\n                </Col>\n                <Col span={12}>\n                    <Popover\n                        content={inviteContent}\n                        trigger=\"click\"\n                        placement=\"bottomRight\"\n                    >\n                        <button className=\"btn_primary\">Invite</button>\n                    </Popover>\n\n                </Col>\n            </Row>\n            <Select defaultValue='cpp' onChange={handleLang} value={lang} className={styles.lang}>\n                <Option value='cpp'>C++</Option>\n                <Option value='java'>Java</Option>\n                <Option value='python'>Python</Option>\n            </Select>\n\n            <label className={styles.input}>Input:</label>\n            <TextArea value={input} onChange={handleInput} rows={5} autoSize={textAreaSize} />\n            <label className={styles.output}>Output:</label>\n            <TextArea value={output} style={{ marginBottom: '20px' }} autoSize={textAreaSize} readOnly={true} />\n            <button \n            className={`btn_success ${runCodeDisabled && 'disabled'}`} \n            onClick={handleRun} \n            disabled={runCodeDisabled}\n            >\n                {runCodeDisabled ? \"Running...\" : \"Run Code\"}\n            </button>\n        </div>\n    );\n}\n\nexport default SideDrawer;","import React from 'react';\nimport Draggable from 'react-draggable';\nimport styles from './main.module.css';\nimport { Row, Col } from 'antd';\n\nconst VideoChatComponent = props => {\n    const { draggableRef,\n        remoteRef,\n        localRef,\n        peerConnected,\n        controls,\n        gotMediaDevice,\n        toggleVideo,\n        toggleAudio,\n        createOffer,\n        connecting,\n    } = props;\n    return (\n        <React.Fragment>\n            <Draggable nodeRef={draggableRef} >\n                <div className={styles.outer} ref={draggableRef}>\n                    <div className={styles.remote}>\n                        <video\n                            className={styles.remoteVideo}\n                            ref={remoteRef}\n                            autoPlay={true}\n                            muted={!peerConnected}>\n                        </video>\n                        {connecting && <div className={styles.overlay}>\n                            <h2>Connecting...</h2>\n                        </div>\n                        }\n                        <div className={styles.local}>\n                            <video\n                                className={styles.localVideo}\n                                ref={localRef}\n                                autoPlay={true}\n                                muted={true}>\n                            </video>\n                        </div>\n                        {peerConnected &&\n                            <div className={styles.controls}>\n                                <Row>\n                                    <Col span={12}>\n                                        <button onClick={toggleVideo}>\n                                            {controls.video ?\n                                                <img src=\"https://img.icons8.com/metro/26/000000/video-call.png\" alt=\"Audio On\" /> :\n                                                <img src=\"https://img.icons8.com/metro/26/000000/no-video.png\" alt=\"Video Off\" />}\n                                        </button>\n                                    </Col>\n                                    <Col span={12}>\n                                        <button onClick={toggleAudio}>\n                                            {controls.audio ?\n                                                <img src=\"https://img.icons8.com/ios-glyphs/26/000000/microphone.png\" alt=\"Video On\" /> :\n                                                <img src=\"https://img.icons8.com/ios-glyphs/30/000000/no-microphone.png\" alt=\"Video Off\" />}\n                                        </button>\n                                    </Col>\n                                </Row>\n                            </div>\n                        }\n                        {gotMediaDevice && !peerConnected &&\n                            <div className={styles.connect}>\n                                <button\n                                    className=\"btn_primary\"\n                                    onClick={createOffer}\n                                >\n                                    start\n                                </button>\n                            </div>\n\n                        }\n                    </div>\n\n                </div>\n            </Draggable>\n        </React.Fragment>\n    );\n}\n\nexport default VideoChatComponent;","import { notification } from 'antd'\nconst helper = {\n    candidates: [],\n    pc: null,\n    videoSocket: null,\n    peerConnectionInit: (videoSocket) => {\n        let pc = new window.RTCPeerConnection({\n            iceServers: [\n                {\n                    urls: 'stun:stun.l.google.com:19302'\n                },\n                {\n                    urls: 'turn:numb.viagenie.ca',\n                    username: 'webrtc@live.com',\n                    credential: 'muazkh'\n                },\n            ]\n        });\n        helper.videoSocket = videoSocket;\n        helper.pc = pc;\n        helper.pc.onicecandidate = helper.onIceCandidate;\n        helper.pc.oniceconnectionstatechange = helper.onIceConnectionStateChange;\n        return pc;\n    },\n    onIceCandidate: e => {\n        console.log('gathering state: ' + e.target.iceGatheringState);\n        if (e.candidate) {\n            helper.candidates.push(e.candidate);\n        }\n        else {\n            console.log(helper.candidates)\n            helper.videoSocket.send(JSON.stringify({ candidate: helper.candidates }));\n        }\n    },\n    addIceCandidate: candidate => {\n        helper.pc.addIceCandidate(new RTCIceCandidate(candidate));\n    },\n    onIceConnectionStateChange: e => {\n        console.log('connection state: ' + helper.pc.iceConnectionState);\n        if (helper.pc.iceConnectionState === 'disconnected') {\n            if (helper.pc.restartIce) {\n                console.log('restart')\n                helper.pc.restartIce();\n            }\n            else {\n                console.log('offer restart')\n                helper.createOffer();\n            }\n        }\n    },\n    createOffer: () => {\n        console.log('offer')\n        helper.pc.createOffer({ offerToReceiveAudio: true, offerToReceiveVideo: true }).then(sdp => {\n            helper.pc.setLocalDescription(new RTCSessionDescription(sdp)).then(() => {\n                helper.videoSocket.send(JSON.stringify({ makeOffer: { offer: sdp } }));\n            }).catch(helper.error);\n        }).catch(helper.error);\n    },\n    error: (err) => {\n        console.log('Error', err);\n    },\n    handleLocalMediaStreamError: (error) => {\n        console.log('navigator.getUserMedia error: ', error);\n        notification.error({\n            message: error.toString(),\n            description: 'Please allow access to camera and microphone',\n        })\n    }\n}\n\nexport default helper;","import React, { Component } from 'react';\nimport ReconnectingWebSocket from 'reconnecting-websocket';\nimport VideoChatComponent from '../Components/VideoChat/videoChatComponent';\nimport VideoHelper from './VideoHelper';\n\nconst websocketURL = process.env.REACT_APP_WEB_SOCKET_URL;\n\nclass VideoChat extends Component {\n    constructor(props) {\n        super(props);\n        this.remoteRef = React.createRef();\n        this.localRef = React.createRef();\n        this.draggableRef = React.createRef();\n\n        this.state = {\n            videoSocket: null,\n            pc: null,\n            controls: {\n                video: true,\n                audio: true\n            },\n            peerConnected: false,\n            gotMediaDevice: false,\n            connecting: false,\n        }\n    }\n\n    componentDidMount() {\n        const videoSocket = new ReconnectingWebSocket(websocketURL + '/foo');\n\n        videoSocket.addEventListener('open', event => {\n            console.log('connected to video server')\n        });\n\n        let pc = VideoHelper.peerConnectionInit(videoSocket);\n        pc.ontrack = this.addTrack;\n\n        const mediaStreamConstraints = {\n            video: true,\n            audio: true\n        };\n\n        // Initializes media stream.\n        let localMediaStream = null;\n        navigator.mediaDevices.getUserMedia(mediaStreamConstraints).then(mediaStream => {\n            // Handles success by adding the MediaStream to the video element.\n            this.setState({ videoSocket, pc, gotMediaDevice: true });\n\n            // this.localRef.current.srcObject = mediaStream;\n            this.remoteRef.current.srcObject = mediaStream;\n            localMediaStream = mediaStream;\n\n            mediaStream.getTracks().forEach(track => {\n                this.state.pc.addTrack(track, mediaStream);\n            });\n            // pc.addStream(mediaStream);\n        }).catch(VideoHelper.handleLocalMediaStreamError);\n\n        videoSocket.addEventListener('message', event => {\n            const on = JSON.parse(event.data);\n            if (on['offerMade']) {\n                this.setState({ connecting: true });\n                console.log('offer made');\n                // other person listens to offerMade\n                pc.setRemoteDescription(new RTCSessionDescription(on['offerMade'].offer)).then(() => {\n                    console.log('remote description set');\n                    this.createAnswer(localMediaStream);\n                }).catch(VideoHelper.error);\n\n            }\n            else if (on['answerMade']) {\n                console.log('answer made');\n                // I listen to answerMade\n                pc.setRemoteDescription(new RTCSessionDescription(on['answerMade'].answer)).then(() => {\n                    console.log('remote description set')\n                    this.localRef.current.srcObject = localMediaStream;\n                    this.setState({ peerConnected: true });\n                }).catch(VideoHelper.error);\n            }\n            else if (on['candidate']) {\n                console.log(`adding ${on['candidate'].length} candidates`);\n                on['candidate'].map(candidate => VideoHelper.addIceCandidate(candidate));\n                this.setState({ connecting: false });\n            }\n        });\n\n    }\n\n    componentWillUnmount() {\n        if (this.localRef.current.srcObject)\n            this.localRef.current.srcObject.getTracks().forEach(track => track.stop());\n        if (this.remoteRef.current.srcObject)\n            this.remoteRef.current.srcObject.getTracks().forEach(track => track.stop());\n        this.state.pc.close();\n        this.state.videoSocket.close();\n    }\n\n    addTrack = event => {\n        console.log('connect to peer');\n        this.remoteRef.current.srcObject = event.streams[0];\n    }\n\n    createOffer = () => {\n        this.setState({ connecting: true });\n        VideoHelper.createOffer();\n    }\n\n    createAnswer = (localMediaStream) => {\n        console.log('answer');\n        this.state.pc.createAnswer().then(sdp => {\n            this.state.pc.setLocalDescription(new RTCSessionDescription(sdp)).then(() => {\n                this.state.videoSocket.send(JSON.stringify({ makeAnswer: { answer: sdp } }));\n                this.localRef.current.srcObject = localMediaStream;\n                this.setState({ peerConnected: true });\n            }).catch(VideoHelper.error)\n        }).catch(VideoHelper.error);\n    }\n\n    toggleVideo = () => {\n        const controls = { ...this.state.controls };\n        this.localRef.current.srcObject.getVideoTracks()[0].enabled = !controls.video;\n        this.setState({ controls: { video: !controls.video, audio: controls.audio } });\n    }\n\n    toggleAudio = () => {\n        const controls = { ...this.state.controls };\n        this.localRef.current.srcObject.getAudioTracks()[0].enabled = !controls.audio;\n        this.setState({ controls: { ...this.state.controls, audio: !controls.audio } });\n    }\n\n    render() {\n        const { controls, peerConnected, gotMediaDevice, connecting } = this.state;\n        return (\n            <VideoChatComponent\n                draggableRef={this.draggableRef}\n                remoteRef={this.remoteRef}\n                localRef={this.localRef}\n                peerConnected={peerConnected}\n                controls={controls}\n                gotMediaDevice={gotMediaDevice}\n                connecting={connecting}\n                toggleVideo={this.toggleVideo}\n                toggleAudio={this.toggleAudio}\n                createOffer={this.createOffer}\n            />\n        );\n    }\n}\n\nexport default VideoChat;","import React from \"react\";\nimport MonacoEditor from \"react-monaco-editor\";\nimport { Row, Col } from \"antd\";\nimport styles from \"./main.module.css\";\nimport SideDrawer from \"../SideDrawer/SideDrawer\";\nimport VideoChat from \"../../Containers/VideoChat\";\n\nconst EditorComponent = (props) => {\n  const {\n    videoChat,\n    lang,\n    code,\n    input,\n    output,\n    runCodeDisabled,\n    videoSocket,\n    readOnly,\n    handleVideoChat,\n    editorDidMount,\n    editorOnChange,\n    handleLang,\n    handleRun,\n    handleInput,\n    handleVideoSocket,\n  } = props;\n  const options = {\n    selectOnLineNumbers: true, // Select line by clicking on line number\n    minimap: {\n      enabled: false, // Minimap gives an overview of code(present on right side in vscode)\n    },\n    readOnly,\n  };\n  return (\n    <Row gutter={0}>\n      <Col lg={20} sm={16}>\n        {videoChat && (\n          <VideoChat\n            videoChat={videoChat}\n            videoSocket={videoSocket}\n            handleVideoChat={handleVideoChat}\n            handleVideoSocket={handleVideoSocket}\n          />\n        )}\n        <div className={styles.editor}>\n          <MonacoEditor\n            // width=\"600\"\n            // height=\"400\"\n            automaticLayout={true}\n            language={lang}\n            theme=\"vs-dark\"\n            value={code}\n            options={options}\n            editorDidMount={editorDidMount}\n            onChange={editorOnChange}\n          />\n        </div>\n      </Col>\n      <Col lg={4} sm={8}>\n        <SideDrawer\n          input={input}\n          output={output}\n          videoChat={videoChat}\n          runCodeDisabled={runCodeDisabled}\n          lang={lang}\n          videoSocket={videoSocket}\n          handleLang={handleLang}\n          handleRun={handleRun}\n          handleInput={handleInput}\n          handleVideoChat={handleVideoChat}\n        />\n      </Col>\n    </Row>\n  );\n};\n\nexport default EditorComponent;\n","import TextDiffBinding from './TextDiffBinding';\n\nclass StringBinding extends TextDiffBinding {\n  setup = () => {\n    this.update(true);\n    let state = this.compoThis.state;\n    let docData = this.doc.data;\n    this.updateInputOutput(state.input, docData.input[0], 'input');\n    this.updateInputOutput(state.output, docData.output[0], 'output');\n    this.attachDoc();\n    this.attachElement();\n  };\n\n  // destroy = () => {\n  //   this.doc.removeListener('op', this._opListener);\n  // };\n\n  attachElement = () => {\n    // Editor onChange listener\n    this._inputListener = (newValue, e) => {\n      this.onInput(newValue, e);\n    };\n    // I/O input onChange listener\n    this._inoutListener = (before, after, key) => {\n      this._insertInOut(before, after, key);\n    }\n  };\n\n  attachDoc = () => {\n    this.doc.on('op', this.onListener);\n  };\n\n  onListener = (op, source) => {\n    if (source === this) return;\n    if (op.length === 0) return;\n    if (op.length > 1) {\n      throw new Error('Op with multiple components emitted');\n    }\n    // console.log(op, source);\n    let component = op[0];\n    if (component.p[0] === 'output' || component.p[0] === 'input' || component.p[0] === 'lang') {\n      this.updateInputOutput(component.ld, component.li, component.p[0]);\n    }\n    else if (this.isSubpath(this.path, component.p)) {\n      this._parseInsertRemoveOp(component, 'si', 'onInsert');\n      this._parseInsertRemoveOp(component, 'sd', 'onRemove');\n    } else if (this.isSubpath(component.p, this.path)) {\n      this._parseParentOp();\n    }\n  };\n\n  _parseInsertRemoveOp(component, key, onHandler) {\n    if (!component[key]) return;\n    let rangeOffset = component.rangeOffset;\n    let length = component[key].length;\n    this[onHandler](rangeOffset, length);\n  }\n\n  _parseParentOp = () => {\n    this.update();\n  };\n\n  _insertInOut = (before, after, key) => {\n    let path = [key, 0];\n    let op = { p: path, ld: before, li: after };\n    this.doc.submitOp(op, { source: this });\n  }\n\n  isSubpath = (path, testPath) => {\n    for (var i = 0; i < path.length; i++) {\n      if (testPath[i] !== path[i]) return false;\n    }\n    return true;\n  }\n\n  updateInputOutput(before, after, key) {\n    if (before === after) return;\n    this.compoThis.setState({ [key]: after });\n  }\n}\n\nexport default StringBinding;\n\n// This code has been modified to support Monaco Editor.\n// Original code of StringBinding is present at https://github.com/share/sharedb-string-binding","class TextDiffBinding {\n  constructor(compoThis, doc, path, localPresence) {\n    this.compoThis = compoThis || null;\n    this.doc = doc;\n    this.path = path || [];\n    this.localPresence = localPresence;\n    this.decorations = [];\n    this.range = null;\n  }\n\n  onInput = (newValue, e) => {\n    let previous = this.doc.data[this.path[0]];\n    // Monaco Editor considers new line as \\r\\n.\n    let value = newValue;\n    if (previous === value) return;\n\n    let start = 0;\n    let end = 0;\n    while (previous.charAt(start) === value.charAt(start)) {\n      start++;\n    }\n    while (\n      previous.charAt(previous.length - 1 - end) === value.charAt(value.length - 1 - end) &&\n      end + start < previous.length &&\n      end + start < value.length\n    ) {\n      end++;\n    }\n    if (previous.length !== start + end) {\n      let removed = previous.slice(start, previous.length - end);\n      this._remove(start, removed, e.changes[0].rangeOffset);\n    }\n    if (value.length !== start + end) {\n      let inserted = value.slice(start, value.length - end);\n      this._insert(start, inserted, e.changes[0].rangeOffset);\n    }\n  };\n\n  _insert = (index, text, rangeOffset) => {\n    let path = this.path.concat(index);\n    let op = { p: path, si: text, rangeOffset: rangeOffset };\n    this.doc.submitOp(op, { source: this });\n  };\n\n  _remove = (index, text, rangeOffset) => {\n    let path = this.path.concat(index);\n    let op = { p: path, sd: text, rangeOffset: rangeOffset };\n    this.doc.submitOp(op, { source: this });\n  };\n\n  onInsert = (rangeOffset, length) => {\n    this._transformSelectionAndUpdate(rangeOffset, length, this.insertCursorTransform);\n  };\n  insertCursorTransform = (rangeOffset, currStartOffset, currEndOffset, length) => {\n    //rangeOffset->rangeOffset of editor which actually edited\n    //cursorOffset->rangeOffset of my editor\n    let offset = null;\n    if (rangeOffset < currStartOffset) {\n      offset = {\n        startOffset: currStartOffset + length,\n        endOffset: currEndOffset + length\n      }\n    }\n    else {\n      offset = {\n        startOffset: currStartOffset,\n        endOffset: currEndOffset > rangeOffset ? currEndOffset + length : currEndOffset\n      }\n    }\n    return offset;\n  }\n\n  onRemove = (rangeOffset, length) => {\n    this._transformSelectionAndUpdate(rangeOffset, length, this.removeCursorTransform);\n  };\n  removeCursorTransform = (rangeOffset, currStartOffset, currEndOffset, length) => {\n    // rangeOffset, cursorOffset same as insertCursorTransform()\n    // Taking minimum because if one user deletes text written by other(cursor position), \n    // cursorOffset will become -ve if we do cursorOffset-length\n    let offset = null;\n    if (rangeOffset < currStartOffset) {\n      offset = {\n        startOffset: currEndOffset < rangeOffset + length ? rangeOffset : currStartOffset - length,\n        endOffset: currEndOffset < rangeOffset + length ? rangeOffset : currEndOffset - length\n      }\n    }\n    else {\n      offset = {\n        startOffset: currStartOffset,\n        endOffset: currEndOffset > rangeOffset ? rangeOffset : currEndOffset\n      }\n    }\n    return offset;\n  }\n\n  _transformSelectionAndUpdate = (rangeOffset, length, transformCursor) => {\n    let editor = this.compoThis.state.editor;\n    let selection = editor.getSelection();\n    let currStartOffset = editor.getModel().getOffsetAt({\n      lineNumber: selection.startLineNumber,\n      column: selection.startColumn\n    });\n    let currEndOffset = editor.getModel().getOffsetAt({\n      lineNumber: selection.endLineNumber,\n      column: selection.endColumn\n    });\n\n    let offset = transformCursor(rangeOffset, currStartOffset, currEndOffset, length);\n    this.update();\n    editor.setSelection(new this.compoThis.state.monaco.Range(\n      editor.getModel().getPositionAt(offset.startOffset).lineNumber,\n      editor.getModel().getPositionAt(offset.startOffset).column,\n      editor.getModel().getPositionAt(offset.endOffset).lineNumber,\n      editor.getModel().getPositionAt(offset.endOffset).column)\n    );\n  };\n\n  update = (isSetup) => {\n    let value = this.doc.data[this.path[0]];\n    this.compoThis.setState({ code: value }, () => {\n      // Update peer cursor\n      if (this.range) {\n        // let range = this.compoThis.state.range;\n        let isPos = this.range.startLineNumber === this.range.endLineNumber &&\n          this.range.startColumn === this.range.endColumn;\n        this.decorations = this.compoThis.state.editor.deltaDecorations(this.decorations, [\n          {\n            range: new this.compoThis.state.monaco.Range(this.range.startLineNumber, \n              this.range.startColumn,this.range.endLineNumber, this.range.endColumn),\n            options: { className: isPos ? 'cursor-position' : 'cursor-selection' }\n          }\n        ]);\n      }\n    });\n  };\n\n}\nexport default TextDiffBinding;\n\n// This code has been modified to support Monaco Editor.\n// Original code of StringBinding is present at https://github.com/share/text-diff-binding","import React from \"react\";\nimport styles from \"./main.module.css\";\n\nconst Loading = () => {\n  return (\n    <div className={styles.loader}>\n      <div className={styles[\"loader-content\"]}>Loading...</div>\n    </div>\n  );\n};\n\nexport default Loading;\n","import React, { Component } from \"react\";\nimport EditorComponent from \"../Components/Editor/EditorComponent\";\nimport axios from \"axios\";\n// automatically reconnects if the connection is closed\nimport ReconnectingWebSocket from \"reconnecting-websocket\";\nimport shareDB from \"sharedb/lib/client\";\nimport StringBinding from \"../EditorBinding/StringBinding\";\nimport Loader from \"../Components/Loader/Loading\";\nimport { notification } from \"antd\";\n\nconst serverURL = process.env.REACT_APP_SERVER_URL;\nconst websocketURL = process.env.REACT_APP_WEB_SOCKET_URL;\n\nclass Editor extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      code: \"\",\n      input: \"\",\n      output: \"\",\n      lang: \"cpp\",\n      editor: null,\n      monaco: null,\n      binding: null,\n      videoChat: false,\n      runCodeDisabled: false,\n      isLoading: true,\n    };\n  }\n\n  componentDidMount() {\n    const id = this.props.match.params.id;\n    axios\n      .post(serverURL, {\n        id: id,\n      })\n      .then((res) => {\n        //open websocket connection to shareDB server\n        const rws = new ReconnectingWebSocket(websocketURL + \"/bar\");\n        const connection = new shareDB.Connection(rws);\n        //create local doc instance mapped to 'examples' collection document with id 'textarea'\n        const doc = connection.get(\"examples\", id);\n\n        doc.subscribe((err) => {\n          if (err) throw err;\n          const presence = connection.getPresence(\"examples\");\n          presence.subscribe((err) => {\n            if (err) throw err;\n          });\n          let localPresence = presence.create();\n\n          let binding = new StringBinding(\n            this,\n            doc,\n            [\"content\"],\n            localPresence\n          );\n          this.setState({ binding, isLoading: false }, () =>\n            console.log(\"binding set\")\n          );\n          binding.setup(this);\n\n          presence.on(\"receive\", (id, range) => {\n            if (!range) return;\n            let isPos =\n              range.startLineNumber === range.endLineNumber &&\n              range.startColumn === range.endColumn;\n            binding.decorations = this.state.editor.deltaDecorations(\n              binding.decorations,\n              [\n                {\n                  range: new this.state.monaco.Range(\n                    range.startLineNumber,\n                    range.startColumn,\n                    range.endLineNumber,\n                    range.endColumn\n                  ),\n                  options: {\n                    className: isPos ? \"cursor-position\" : \"cursor-selection\",\n                  },\n                },\n              ]\n            );\n            // console.log(this.state.editor.getModel().getAllDecorations())\n            binding.range = range;\n          });\n        });\n      })\n      .catch((err) => {\n        console.log(err);\n        notification.error({\n          message: err.toString(),\n        });\n      });\n  }\n\n  editorDidMount = (editor, monaco) => {\n    console.log(\"editor mount\", this.state);\n    editor.focus();\n    // Set end of line preference\n    editor.getModel().pushEOL(0);\n\n    let setup = true;\n    editor.onDidChangeCursorSelection((e) => {\n      console.log(\"cursor change\");\n      // Setup initial cursor position\n      if (setup) {\n        let pos = editor.getPosition();\n        editor.setSelection(\n          new monaco.Range(\n            pos.lineNumber,\n            pos.column,\n            pos.lineNumber,\n            pos.column\n          )\n        );\n        setup = false;\n        return;\n      }\n      // console.log(e);\n      if (this.state.binding.localPresence) {\n        this.state.binding.localPresence.submit(e.selection, (err) => {\n          if (err) throw err;\n        });\n      }\n    });\n\n    this.setState({ editor, monaco });\n  };\n\n  // Monaco editor onChange()\n  editorOnChange = (newValue, e) => {\n    console.log(this.state.binding);\n    this.state.binding._inputListener(newValue, e);\n    this.setState({ code: newValue });\n  };\n\n  // Handler for Run Code button\n  handleRun = () => {\n    this.setState({ runCodeDisabled: true });\n    // Convert array of codes into a single string\n    const code = this.state.editor.getValue();\n    // Send API call to run code\n    axios\n      .post(serverURL + \"/code/run\", {\n        code: code,\n        input: this.state.input,\n        id: this.props.match.params.id,\n        lang: this.state.editor.getModel().getLanguageIdentifier().language,\n      })\n      .then((response) => {\n        this.state.binding._inoutListener(\n          this.state.output,\n          response.data,\n          \"output\"\n        );\n        this.setState({ output: response.data, runCodeDisabled: false });\n      })\n      .catch((err) => {\n        if (!err.response) {\n          notification.error({\n            message: err.toString(),\n          });\n          this.setState({ runCodeDisabled: false });\n        } else if (err.response.status === 400) {\n          this.state.binding._inoutListener(\n            this.state.output,\n            err.response.data,\n            \"output\"\n          );\n          this.setState({ output: err.response.data, runCodeDisabled: false });\n        }\n      });\n  };\n\n  handleInput = (e) => {\n    this.state.binding._inoutListener(\n      this.state.input,\n      e.target.value,\n      \"input\"\n    );\n    this.setState({ input: e.target.value });\n  };\n\n  handleLang = (value) => {\n    this.state.binding._inoutListener(this.state.lang, value, \"lang\");\n    this.setState({ lang: value });\n  };\n\n  handleVideoChat = () => {\n    this.setState({ videoChat: !this.state.videoChat });\n  };\n\n  render() {\n    const {\n      videoChat,\n      lang,\n      code,\n      input,\n      output,\n      runCodeDisabled,\n      isLoading,\n    } = this.state;\n    return (\n      <React.Fragment>\n        {isLoading && <Loader />}\n        <EditorComponent\n          videoChat={videoChat}\n          lang={lang}\n          code={code}\n          input={input}\n          output={output}\n          runCodeDisabled={runCodeDisabled}\n          readOnly={isLoading}\n          handleVideoChat={this.handleVideoChat}\n          editorDidMount={this.editorDidMount}\n          editorOnChange={this.editorOnChange}\n          handleLang={this.handleLang}\n          handleRun={this.handleRun}\n          handleInput={this.handleInput}\n        />\n      </React.Fragment>\n    );\n  }\n}\n\nexport default Editor;\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport styles from './main.module.css';\n\nconst HomeComponent = props => {\n  const { createId } = props;\n  return (\n    <div className={styles.home}>\n      <h1>CodeCollab</h1>\n      <p className={styles.heading}>A Collaborative Code editor for pair programming, interviews, teaching and a lot more.</p>\n\n      <Link to={`/${createId()}`}>\n        <button className={`${styles.btn} btn_primary`}>Start Coding</button>\n      </Link>\n\n\n      <a\n        href='https://github.com/goelayush89/collaborative-ide'\n        className={styles.githubcorner}\n        aria-label='View source on GitHub'\n      >\n        <svg\n          width='80'\n          height='80'\n          viewBox='0 0 250 250'\n          styles='fill:#000; color:#151513; position:absolute; right:0; transform: scale(-1, 1); z-index: 10;'\n          aria-hidden='true'\n        >\n          <path d='M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z'></path>\n          <path\n            d='M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2'\n            fill='#B0EFEB'\n            styles='transform-origin: 130px 106px;'\n            class='octo-arm'\n          ></path>\n          <path\n            d='M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z'\n            fill='#B0EFEB'\n            class='octo-body'\n          ></path>\n        </svg>\n      </a>\n\n    </div>\n  );\n}\n\nexport default HomeComponent;","import React, { Component } from 'react';\nimport { v4 } from 'uuid';\nimport HomeComponent from '../Components/Home/HomeComponent';\n\nclass Home extends Component {\n    createId = () => {\n        return v4();\n    }\n\n    render() {\n        return (\n            <HomeComponent\n                createId={this.createId}\n            />\n        );\n    }\n}\n\nexport default Home;","import React from 'react';\nimport './App.css';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport Editor from './Containers/Editor';\nimport Home from './Containers/Home';\n\nfunction App() {\n  return (\n    <BrowserRouter>\n    <div className=\"App\">\n        <Switch>\n          <Route path='/' exact component={Home} />\n          <Route path='/:id' exact component = {Editor} />\n        </Switch>\n    </div>\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}